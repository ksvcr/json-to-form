(this["webpackJsonpjson-to-form"]=this["webpackJsonpjson-to-form"]||[]).push([[0],[,,,function(e,t,a){e.exports={error:"PrettyJsonTextarea_error__2fz6v",success:"PrettyJsonTextarea_success__ygF50",controls:"PrettyJsonTextarea_controls__17pfY",textarea:"PrettyJsonTextarea_textarea__3VlgG"}},,,function(e,t,a){e.exports={control:"Control_control__1tG12",label:"Control_label__1Ca49"}},,function(e,t,a){e.exports={label:"Radio_label__4igNm"}},function(e,t,a){e.exports={group:"RadioGroup_group__2b1eL"}},,function(e,t,a){e.exports={button:"Button_button__3ORSg"}},function(e,t,a){e.exports={controls:"Form_controls__7BYFZ"}},function(e,t,a){e.exports={nav:"Tabs_nav__3Fxw6",button:"Tabs_button__1YBPu",active:"Tabs_active__2-Utt",panels:"Tabs_panels__o9K0c"}},function(e,t,a){e.exports={layout:"DefaultLayout_layout__3MRKh"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(1),l=(a(19),a(0));const o=Object(c.createContext)(null),s=e=>e.fields.reduce(((e,t)=>{const{value:a,name:n}=t;return e[n]=null!==a&&void 0!==a?a:"",e}),{}),i=e=>{let{children:t,config:a}=e;const[n,r]=Object(c.useState)((()=>s(a))),i=Object(c.useCallback)(((e,t)=>{r((a=>({...a,[e]:t})))}),[]),u=Object(c.useCallback)((e=>{r(e)}),[]),b=Object(c.useMemo)((()=>({formData:n,config:a,onChangeByName:i,onChange:u})),[n,a,i,u]);return Object(l.jsx)(o.Provider,{value:b,children:t})};const u=e=>{let{name:t,children:a}=e;const{fieldValue:n,onFieldChange:r}=function(e){const t=Object(c.useContext)(o);if(!t)throw new Error("useFormContext must be used within a FormProvider");const{formData:a,onChangeByName:n}=t,r=Object(c.useCallback)((t=>{n(e,t)}),[e,n]),l=a[e];return Object(c.useMemo)((()=>({onFieldChange:r,fieldValue:l})),[r,l])}(t);return Object(l.jsx)(l.Fragment,{children:a(n,r)})};var b=a(8),d=a.n(b);const j=e=>{let{value:t,checked:a,name:n,id:r,label:c,onChange:o}=e;return Object(l.jsxs)("label",{children:[Object(l.jsx)("span",{className:d.a.label,children:c}),Object(l.jsx)("input",{value:t,checked:a,id:r,name:n,onChange:o,type:"radio"})]})};var m=a(9),x=a.n(m);const h=e=>{let{options:t,name:a,id:n,value:r,onChange:c}=e;return Object(l.jsx)("div",{className:x.a.group,children:(t||[]).map((e=>{const t=e.value===r;return Object(l.jsx)(j,{label:e.label,id:n,name:a,value:e.value.toString(),checked:t,onChange:c},e.label)}))})},O=e=>{let{value:t,name:a,id:n,onChange:r,...c}=e;return Object(l.jsx)("input",{type:"text",name:a,value:t,id:n,onChange:r,...c})},g=e=>{let{value:t,name:a,id:n,onChange:r}=e;return Object(l.jsx)("input",{type:"number",name:a,value:t,id:n,onChange:r})},v=e=>{let{value:t,name:a,id:n,onChange:r}=e;return Object(l.jsx)("input",{type:"date",name:a,value:null===t||void 0===t?void 0:t.toString(),id:n,onChange:r})},p=e=>{let{value:t,name:a,id:n,onChange:r}=e;return Object(l.jsx)("input",{type:"checkbox",name:a,checked:Boolean(t),id:n,onChange:r})};var C=a(4),f=a.n(C);const _=e=>{let{value:t,name:a,id:n,className:r,onChange:c,...o}=e;return Object(l.jsx)("textarea",{className:f()(r),name:a,value:null===t||void 0===t?void 0:t.toString(),id:n,onChange:c})};var y=a(6),k=a.n(y);const N=Object(c.memo)((e=>{let{value:t,config:a,onChange:n}=e;const r=Object(c.useCallback)((e=>{const{type:t,checked:a,value:r}=e.target;n("checkbox"===t?a:r)}),[n]),o=Object(c.useCallback)((e=>{const{value:t}=e.target;n(t)}),[n]);return Object(l.jsxs)("div",{className:k.a.control,children:[Object(l.jsx)("label",{className:k.a.label,htmlFor:a.id||a.name,children:a.label}),(()=>{switch(a.type){case"text":return Object(l.jsx)(O,{value:t.toString(),id:a.id,name:a.name,onChange:r});case"number":return Object(l.jsx)(g,{value:t.toString(),id:a.id,name:a.name,onChange:r});case"textarea":return Object(l.jsx)(_,{value:t,id:a.id,name:a.name,onChange:o});case"radio":return Object(l.jsx)(h,{value:t,options:a.options,id:a.id,name:a.name,onChange:r});case"checkbox":return Object(l.jsx)(p,{value:Boolean(t),id:a.id,name:a.name,onChange:r});case"date":return Object(l.jsx)(v,{value:t.toString(),id:a.id,name:a.name,onChange:r});default:return null}})()]})})),S=e=>{let{fields:t}=e;return Object(l.jsx)(l.Fragment,{children:(t||[]).map((e=>Object(l.jsx)(u,{name:e.name,children:(t,a)=>Object(l.jsx)(N,{value:t,onChange:a,config:e})},e.id)))})};var F=a(10),T=a.n(F),R=a(11),w=a.n(R);const J=e=>{let{children:t,onClick:a,className:n,...r}=e;return Object(l.jsx)("button",{className:T()(w.a.button,n),onClick:a,...r,children:t})};var D=a(12),P=a.n(D);const q=e=>{let{config:t}=e;const{formData:a,handleReset:n}=function(){const e=Object(c.useContext)(o);if(!e)throw new Error("useFormContext must be used within a FormProvider");const{formData:t,config:a,onChange:n}=e,r=Object(c.useCallback)((()=>{n(s(a))}),[a,n]);return Object(c.useMemo)((()=>({formData:t,handleReset:r})),[t,r])}(),r=Object(c.useCallback)((e=>{e.preventDefault(),console.log(a)}),[a]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:t.title}),Object(l.jsxs)("form",{onSubmit:r,children:[Object(l.jsx)(S,{fields:t.fields}),Object(l.jsxs)("div",{className:P.a.controls,children:[!t.hideSubmit&&Object(l.jsx)(J,{type:"submit",children:t.submitText||"Ok"}),!t.hideCancel&&Object(l.jsx)(J,{type:"button",onClick:n,children:t.cancelText||"Reset"})]})]})]})},B=e=>{let{config:t}=e;return Object(l.jsx)(i,{config:t,children:Object(l.jsx)(q,{config:t})})};var M=a(2),E=a.n(M);var G=a(3),V=a.n(G);const Y=e=>{let{value:t,onChange:a}=e;const[n,r]=Object(c.useState)((()=>JSON.stringify(t,null,2))),[o,s]=Object(c.useState)(null),[i,u]=Object(c.useState)(!1),b=Object(c.useCallback)((e=>{const{value:t}=e.target;r(t)}),[]),d=Object(c.useCallback)((async()=>{try{const t=JSON.parse(n);r(JSON.stringify(t,null,2));const c=(e=t,E.a.object({title:E.a.string().required(),submitText:E.a.string(),cancelText:E.a.string(),hideSubmit:E.a.boolean(),hideCancel:E.a.boolean(),fields:E.a.array().items(E.a.object({label:E.a.string().required(),name:E.a.string().required(),id:E.a.string().required(),type:E.a.string().valid("number","text","textarea","checkbox","date","radio").required(),value:[E.a.string(),E.a.number(),E.a.boolean()],options:E.a.array().items(E.a.object({label:E.a.string().required(),value:[E.a.string(),E.a.number(),E.a.boolean()]}))}))}).validate(e));if(c.error)return u(!1),void s(c.error.message);u(!0),s(null),a(t)}catch(o){u(!1),o instanceof SyntaxError&&s(o.message)}var e}),[n,a]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(_,{className:V.a.textarea,value:n,onChange:b}),o&&Object(l.jsx)("div",{className:V.a.error,role:"alert",children:o}),i&&Object(l.jsx)("div",{className:V.a.success,role:"status",children:"Form is generated"}),Object(l.jsx)("div",{className:V.a.controls,children:Object(l.jsx)(J,{type:"button",onClick:d,children:"Apply"})})]})};var K=a(13),L=a.n(K);const z=f.a.bind(L.a),A=e=>{let{items:t}=e;const[a,n]=Object(c.useState)(t[0].id),r=Object(c.useCallback)((e=>()=>n(e)),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("ul",{className:z("nav"),role:"tablist",children:t.map((e=>Object(l.jsx)("li",{role:"presentation",children:Object(l.jsx)("button",{className:z("button",{active:e.id===a}),type:"button",onClick:r(e.id),role:"tab","aria-selected":e.id===a,children:e.title})},e.id)))}),Object(l.jsx)("div",{className:z("panels"),children:t.filter((e=>e.id===a)).map((e=>Object(l.jsx)("div",{id:`tab-${e.id}`,role:"tabpanel",children:e.content},e.id)))})]})};var U=a(14),Z=a.n(U);const $=e=>{let{children:t}=e;return Object(l.jsx)("main",{className:Z.a.layout,children:t})},H={title:"Form",submitText:"Submit",cancelText:"Cancel",fields:[{label:"Text",id:"text",name:"text",type:"text"},{label:"Textarea",id:"textarea",name:"textarea",type:"textarea"},{label:"Date",id:"date",name:"date",type:"date",value:"2020-01-01"},{label:"Number",id:"number",name:"number",type:"number",value:3},{label:"Checkbox",id:"checkbox",name:"checkbox",type:"checkbox",value:!1},{label:"Radio",name:"radio",id:"radio",type:"radio",value:"radio-1",options:[{label:"Radio 1",value:"radio-1"},{label:"Radio 2",value:"radio-2"}]}]},I=()=>{const[e,t]=Object(c.useState)(H),a=Object(c.useCallback)((e=>{t(e)}),[]),n=Object(c.useMemo)((()=>[{title:"Config",id:"config",content:Object(l.jsx)(Y,{value:e,onChange:a})},{title:"Result",id:"result",content:Object(l.jsx)(B,{config:e})}]),[a,e]);return Object(l.jsx)($,{children:Object(l.jsx)(A,{items:n})})},Q=()=>Object(l.jsx)(I,{});r.a.render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(Q,{})}),document.querySelector("#root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.824ff02a.chunk.js.map